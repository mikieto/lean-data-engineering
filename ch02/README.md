
# Chapter 2 Hands-on: Designing a Governed Architecture

## Your Mission in this Lab

In this chapter, you learned how to use the **3-Tier Data Governance Model** as a blueprint and various architectural patterns as "instruments" to build a governed data platform. Now, it's time to take on the role of an architect.

Your mission in this hands-on lab is to experience the **ADR-centric AI Collaboration Workflow** firsthand. You will step into the role of an AI Collaboration Architect, using an ADR to define your strategic "Why". Then, you will leverage your AI partner to explore various architectural "Hows" and make a final, defensible design decision.

## Your Place on the Map

The ADR-centric workflow guides you from a business problem to a verified architecture, ensuring traceability of decisions. The diagram below illustrates the entire workflow, with **your focus in this lab highlighted**.

```{mermaid}
%%| label: fig-ch02-map-integrated
%%| fig-cap: "The End-to-End ADR-centric Workflow (Your Lab Focus Highlighted)."
graph TD
    A[Start: Business Problem] --> Step1

    subgraph Human Role
        Step1(Step 1: Define Intent in ADR)
        Step3(Step 3: Select & Finalizes ADR)
    end

    subgraph AI Role
        Step2(Step 2: Generate Options)
    end

    Step1 --> Step2
    Step2 --> Step3
    Step3 --> G[End: Finalized ADR]

    style Step1 fill:#ffc,stroke:#333,stroke-width:2px
    style Step2 fill:#ffc,stroke:#333,stroke-width:2px
    style Step3 fill:#ffc,stroke:#333,stroke-width:2px
```

-----

## The Scenario

You are the lead architect at "Retail-X," tasked with designing a new data pipeline for `retail_orders`. The stakeholders are demanding a solution that is not only technically sound but also scalable, secure, and clearly aligned with business goals. Instead of jumping straight to code, you will use the ADR-centric workflow to ensure the foundation of your project is solid, transparent, and well-governed from day one.

-----

## Learning Objectives

By completing this hands-on lab, you will be able to:

  - **Define architectural requirements** and constraints in a structured ADR.
  - **Leverage an AI partner** to generate and evaluate multiple architectural options.
  - **Make a rational, evidence-based design decision** and document it.
  - **Understand** how the ADR-centric workflow provides traceable governance for technical decisions.

-----

## The Workflow

This lab follows the ADR-centric workflow. Your role is to act as the **Human Architect**. The diagram above illustrates these steps, which correspond to the numbered list below.

1.  **Step 1: Define Intent in ADR**: You will start with the provided **`architectural-design-draft.md`**, which defines the initial context and problem.
2.  **Step 2: Generate Options**: You will use the prompt to ask your AI partner to propose architectural solutions based on the `draft.md`.
3.  **Step 3: Select & Finalizes ADR**: You will review the AI's suggestions and complete your `draft.md`. Once you are done, compare your result with the provided **`architectural-design-solution.md`** to understand the decision-making process.

-----

## The Artifact

You will work with two key documents in the `adr/` directory:

  - **`0001-architectural-design-draft.md`**: This is your starting point and working document (the "problem").
  - **`0001-architectural-design-solution.md`**: This is the completed "solution" file for you to review and compare against your own work. It also serves as the official input for the Chapter 4 hands-on.

-----

## The Prompt

This is the core of the lab. You will provide the initial ADR content from the **`draft.md`** file to your AI partner as a rich, structured prompt.

**Prompt to Generate Architectural Options:**

```
As an expert cloud and data architect, your task is to propose architectural patterns for a new data pipeline based on the following Architecture Decision Record (ADR).

<-- Paste the entire content of 'adr/0001-architectural-design-draft.md' here -->

Based on the context and goals described in the ADR, please propose at least two distinct architectural solutions (e.g., a modern Lakehouse architecture vs. a decentralized Data Mesh approach). For each proposal, briefly explain:
1.  How it addresses the requirements.
2.  The primary benefits.
3.  The potential trade-offs or risks.
```

-----

## Setup & Notes

  - **ADR & Checklist**: Before you begin, please review the "specification" for this lab in the [ADR](https://www.google.com/search?q=./adr/0001-architectural-design-draft.md) and the "test cases" in the [Validation Checklist](https://www.google.com/search?q=./adr/validation_checklist.md).
  - **Environment**: This lab is designed to be run in a GitHub Codespaces environment.
  - **AI Output May Vary**: The architectural proposals generated by your LLM will vary. This is the point\! Your role as an architect is to critically evaluate these machine-generated options against your ADR and make the final strategic decision. The goal is to learn the **process**.
